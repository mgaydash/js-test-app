<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<script src="../js/jquery-1.7.2.min.js" type="text/javascript"></script>
		<script src="../js/jquery.ui.position.js" type="text/javascript"></script>
		<script src="../js/jquery.contextMenu.js" type="text/javascript"></script>
		<script src="../js/jquery-ui-1.8.21.custom.min.js" type="text/javascript"></script>
		<link href="../css/contextMenu/jquery.contextMenu.css" rel="stylesheet" type="text/css" />
		<link href="../css/jQUi/jquery-ui-1.8.21.custom.css" rel="stylesheet" type="text/css" />
		<link href="../css/test.css" rel="stylesheet" type="text/css" />
		<title>
			testbed
		</title>
		<script type="text/javascript">
			jQuery(document).ready(function(){
				jQuery('body').prepend('<div id="nav"></div>');
//				jQuery.get(
//					"../view/nav.html", 
//					function(response){
//						jQuery("#nav").html(response);
//					},
//					"html"
//				);
				jQuery("#nav").load("../view/nav.html");
				var tempDiv = jQuery("#testDiv0").clone();
				tempDiv.removeAttr("id");
				for(var i = 1; i < 6; i++)
					tempDiv.clone().attr('id', 'testDiv' + i).appendTo('#content');
				addContextMenu();
				jQuery("#rotate").click(function(){
					if(jQuery("#spinner").hasClass("rotated")){
						jQuery("#spinner").removeClass("rotated");
						jQuery("#spinner").css("-moz-transform", "rotate(0deg)");
					}
					else{
						jQuery("#spinner").addClass("rotated");
						jQuery("#spinner").css("-moz-transform", "rotate(90deg)");
					}
				});
			//########## ^^^^^^^ old ^^^^^^ ###########
				
			//jquery that essentially works the same way as css :hover
			/*jQuery(".testDiv").hover(
				function(){
					jQuery(this).css("background-color","yellow");
				},
				function(){
					jQuery(this).css("background-color","#E9E9E4");
				}
			);
			jQuery(document).mousemove(function(){
				var testDivAr = jQuery(".testDiv");
				var rand = Math.floor(Math.random() * 16);
				var col = "rgb(" + Math.floor(Math.random() * 257) + ", "+ Math.floor(Math.random() * 257) + ", "+ Math.floor(Math.random() * 257) + ")";
				jQuery(testDivAr[rand]).css("background", col);
			});*/
			
			spin(jQuery(".spinner2"), 90000);
			spin(jQuery(".spinner3"), -90000);
//			spin(jQuery(".testDiv"), -90000);
			backgroundProc();
		});
		function addContextMenu(){
			var callbackFuncObj = function(elementId, menuOption){
				switch(menuOption){
					case "edit":
						alert("Editing " + elementId);
						break;
					case "extend":
						alert("Extending " + elementId);
						break;
				}
			};
			var contextItemObj = {
				"edit":{
					icon: "",
					name: "Edit Phase"
				},
				"extend":{
					icon: "",
					name: "Extend Phase"
				}
			};
			jQuery.contextMenu({
				selector: '.context', 
				callback: function(menuOption, options){
					callbackFuncObj(jQuery(this).attr('id'), menuOption);
				},
				items: contextItemObj
			});
		}
		//new spinner code
		function spin(obj, amount){
			obj.animate(
				{borderSpacing: amount},{ //animating borderspacing and then using the step to make the changes we actually want to make
					step: function(now, fx){
						var obj = jQuery(this);
						obj.css('-webkit-transform','rotate(' + now + 'deg)');
						obj.css('-moz-transform','rotate(' + now + 'deg)'); 
						obj.css('transform','rotate(' + now + 'deg)');  
					},
					duration:3600000 //I think this is an hour of spinning...
				},
				'linear'
			);
		}
		//background
		function backgroundProc(){
			jQuery("body").animate(
				{borderSpacing: 0},{ //animating borderspacing and then using the step to make the changes we actually want to make
					step: function(now, fx){
						var testDivAr = jQuery(".testDiv");
						var rand = Math.floor(Math.random() * 16);
						var col = "rgb(" + Math.floor(Math.random() * 257) + ", "+ Math.floor(Math.random() * 257) + ", "+ Math.floor(Math.random() * 257) + ")";
						jQuery(testDivAr[rand]).css("background", col);
					},
					duration:3600000 //I think this is an hour of spinning...
				},
				'linear'
			);
		}
		</script>
		<style>
			/*body{font-family:"Arial";}*/
			.durationDialog{
				font-family:"Arial";
			}
			.durationDialog .ui-dialog-content{padding: 0px;}
			.durationDialog .ui-dialog-titlebar{display:none;}
			.testDiv{
				background-color:red;
			}
			.testDiv:hover{
				/*background-color:black;*/
			}
		</style>
	</head>
	<body>
		<marquee>
		<div style="border:1px solid black; float:left; height:760px; width:650px;">
			<h1>testbed</h1>
			<div id="content">
				<div class="context" id="testDiv0" style="background-color:red; margin:10px 0px 0px 0px; width:300px;"> test</div>
			</div>
			<div id="formHolder" style="display:none;"></div>
			<button id="rotate" type="button">rotate</button>
			<div id="spinner" style="background:yellow; height:100px; width:120px;"></div>
			<br />
			###### ^^^^^^ ####### page no longer works ####### ^^^^^ ######
			<div></div>
			<div class="testDiv" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div class="testDiv testDiv1" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div class="testDiv testDiv2" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div class="testDiv testDiv3" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div class="testDiv testDiv4" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div style="clear:both; height:5px;"></div>
			<div class="testDiv testDiv5" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div class="testDiv testDiv6" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div class="testDiv testDiv7" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div class="testDiv testDiv8" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div class="testDiv testDiv9" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div style="clear:both; height:5px;"></div>
			<div class="testDiv testDiv10" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div class="testDiv testDiv11" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div class="testDiv testDiv12" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div class="testDiv testDiv13" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
			<div class="testDiv testDiv14" style="border:1px solid black; float:left; height:100px; margin-left: 5px; width:100px;"></div>
		</div>
		<div style="border:1px solid black; float:left; height:760px; width:650px;">
			<div class="spinner2" style="border:0px solid black; height:300px; margin:50px; width:300px;">
				<div style="background:black; float:left; height:100px; margin-top:100px; width:100px;"></div>
				<div style="background:black; float:left; height:300px; width:100px;"></div>
				<div style="background:black; float:left; height:100px; margin-top:100px; width:100px;"></div>
			</div>
			<div class="spinner3" style="border:0px solid black; height:300px; left:105px; margin:50px; position:relative; top:-95px; width:300px;">
				<div style="background:blue; float:left; height:100px; margin-top:100px; width:100px;"></div>
				<div style="background:blue; float:left; height:300px; width:100px;"></div>
				<div style="background:blue; float:left; height:100px; margin-top:100px; width:100px;"></div>
			</div>
		</div>
	</marquee>
	</body>
</html>